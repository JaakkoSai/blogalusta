<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Edit Post</title>
  </head>
  <body>
    <div class="container">
      <h2>Edit Post</h2>
      <form
        th:action="@{/update/{id}(id=${post.id})}"
        th:object="${post}"
        method="post"
      >
        <div th:if="${error}" th:text="${error}"></div>
        <div th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
          <label for="newUsername">New Author Username:</label>
          <input
            type="text"
            id="newUsername"
            th:field="*{newUsername}"
            placeholder="Enter new username"
          />
        </div>

        <div>
          <label for="title">Title</label>
          <input
            type="text"
            id="title"
            th:field="*{title}"
            placeholder="Post Title"
          />
        </div>
        <div>
          <label for="content">Content</label>
          <textarea
            id="content"
            th:field="*{content}"
            placeholder="Post Content"
          ></textarea>
        </div>
        <div>
          <button type="submit">Update Post</button>
        </div>
      </form>
    </div>
  </body>
</html>
